(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{812:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(4),i=n(66),c=n(9),l=n(2),u=n(1),s=n(337),f=n(825),p=n(246),h=n(165);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||O(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=O(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function O(e,t){if(e){if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(c,e);var t,n,r,o,i=(t=c,function(){var e,n=E(t);if(v()){var r=E(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)});function c(){return y(this,c),i.apply(this,arguments)}return n=c,(r=[{key:"redraw",value:function(){this.container=function(e,t,n,r){if(null!==t){var a=n.slice().sort((function(e,t){return+e.date-+t.date})),o=new Map,i=864e5,c=a.length?+a[0].date:Date.now();c=(c/i|0)*i;for(var l=(Date.now()/i|0)*i;c<=l;c+=i)o.set(I(new Date(c)),0);var s,p=S(a);try{for(p.s();!(s=p.n()).done;){var h=s.value,d=I(h.date);o.has(d)&&o.set(d,o.get(d)+h.amount)}}catch(e){p.e(e)}finally{p.f()}var y,m=t.initialBalance,b="Date,Balance\n",g=S(o);try{for(g.s();!(y=g.n()).done;){var v=w(y.value,2),E=v[0];m+=v[1],b+="".concat(E,",").concat(Object(u.y)(m),"\n")}}catch(e){g.e(e)}finally{g.f()}var O=Object(u.t)(r);return new f.a(document.getElementById(e),b,{color:O.LINES,axisLineColor:O.AXIS,axes:{x:{axisLabelFormatter:function(e){return e.toLocaleDateString(void 0,{year:"2-digit",month:"short"})}}},fillGraph:!0,showRangeSelector:!0,rangeSelectorPlotFillGradientColor:O.LINES,rangeSelectorPlotStrokeColor:O.LINES,dateWindow:[l-180*i,l],gridLinePattern:[4,2]})}function I(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())}Object(u.n)("ChartComponent: no account")}("barchart",this.props.account,this.props.operations,this.props.theme)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{message:Object(u.E)("client.charts.balance_desc")}),a.a.createElement("div",{id:"barchart",style:{width:"100%"}}))}}])&&m(n.prototype,r),o&&m(n,o),c}(p.a),C=n(3),_=n.n(C),k=n(338),A=n.n(k);function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=T(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function T(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function M(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){return function(){var t,n=q(e);if(L()){var r=q(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return V(this,t)}}function V(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=function(e){return a.a.createElement("select",{className:"form-element-block",defaultValue:e.defaultValue,onChange:function(t){e.onChange(t.target.value)},id:e.htmlId},a.a.createElement("option",{key:"value",value:"all"},Object(u.E)("client.charts.all_periods")),a.a.createElement("option",{key:"current-month",value:"current-month"},Object(u.E)("client.charts.current_month")),a.a.createElement("option",{key:"last-month",value:"last-month"},Object(u.E)("client.charts.last_month")),a.a.createElement("option",{key:"3-months",value:"3-months"},Object(u.E)("client.charts.three_months")),a.a.createElement("option",{key:"6-months",value:"6-months"},Object(u.E)("client.charts.six_months")))},z=function(e){return a.a.createElement("select",{className:"form-element-block",defaultValue:e.defaultValue,onChange:function(t){e.onChange(t.target.value)}},a.a.createElement("option",{key:"all",value:"all"},Object(u.E)("client.charts.incomes_and_expenses")),a.a.createElement("option",{key:"positive",value:"positive"},Object(u.E)("client.charts.incomes")),a.a.createElement("option",{key:"negative",value:"negative"},Object(u.E)("client.charts.expenses")))},U=function(e){M(n,e);var t=Y(n);function n(){return B(this,n),t.apply(this,arguments)}return x(n,[{key:"hide",value:function(){this.container.hide()}},{key:"show",value:function(){this.container.show()}},{key:"render",value:function(){return a.a.createElement("div",{id:this.props.chartId})}}]),n}(p.a);U.propTypes={chartId:_.a.string.isRequired};var $=function(e){M(n,e);var t=Y(n);function n(){return B(this,n),t.apply(this,arguments)}return x(n,[{key:"datekey",value:function(e){var t=e.budgetDate;return"".concat(t.getFullYear(),"-").concat(t.getMonth())}},{key:"redraw",value:function(){var e,t=new Map,n={},r=new Map,a=R(this.props.operations);try{for(a.s();!(e=a.n()).done;){var o=e.value,i=this.props.getCategoryById(o.categoryId);t.set(i.label,t.get(i.label)||{});var c=t.get(i.label),l=this.datekey(o),s=this.props.invertSign?-o.amount:o.amount;(c[l]=c[l]||[]).push(s),r.set(l,+o.budgetDate),n[i.label]=n[i.label]||i.color}}catch(e){a.e(e)}finally{a.f()}var f=Array.from(r);f.sort((function(e,t){return e[1]-t[1]}));var p,h=[],d=R(t.keys());try{for(d.s();!(p=d.n()).done;){for(var y=p.value,m=[],b=0;b<f.length;b++){var g=f[b][0],v=t.get(y)[g]=t.get(y)[g]||[];m.push(Object(u.y)(v.reduce((function(e,t){return e+t}),0)))}m=[y].concat(m),h.push(m)}}catch(e){d.e(e)}finally{d.f()}for(var E,w=[],S=0;S<f.length;S++){var O=new Date(f[S][1]).toLocaleDateString(void 0,{year:"2-digit",month:"short"});w.push(O)}switch(this.props.period){case"current-month":E=[Math.max(0,w.length-1),w.length];break;case"last-month":E=[Math.max(0,w.length-2),Math.max(0,w.length-1)];break;case"3-months":E=[Math.max(0,w.length-3),w.length];break;default:E=[Math.max(0,w.length-6),w.length]}this.container=A.a.generate({bindto:"#".concat(this.props.chartId),size:{height:600},data:{columns:h,type:"bar",colors:n},bar:{width:{ratio:.5}},axis:{x:{type:"category",categories:w,tick:{fit:!1},extent:E},y:{label:Object(u.E)("client.charts.amount")}},grid:{x:{show:!0},y:{show:!0,lines:[{value:0}]}},subchart:{show:!0,size:{height:80}},transition:{duration:0},zoom:{rescale:!0}})}}]),n}(U);$.propTypes={getCategoryById:_.a.func.isRequired,operations:_.a.array.isRequired,invertSign:_.a.bool.isRequired};var G=function(e){M(n,e);var t=Y(n);function n(){return B(this,n),t.apply(this,arguments)}return x(n,[{key:"redraw",value:function(){var e,t=new Map,n=R(this.props.operations);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=r.categoryId;t.has(a)||t.set(a,[]),t.get(a).push(r.amount)}}catch(e){n.e(e)}finally{n.f()}var o,i=[],c={},l=R(t);try{for(l.s();!(o=l.n()).done;){var s=P(o.value,2),f=s[0],p=s[1],h=this.props.getCategoryById(f);i.push([h.label].concat(p)),c[h.label]=h.color}}catch(e){l.e(e)}finally{l.f()}this.container=A.a.generate({bindto:"#".concat(this.props.chartId),data:{columns:i,type:"pie",colors:c},tooltip:{format:{value:function(e,t){return"".concat(Object(u.y)(100*t),"% (").concat(Math.abs(Object(u.y)(e)),")")}}}})}}]),n}(U);G.propTypes={getCategoryById:_.a.func.isRequired,operations:_.a.array.isRequired};var J=function(e){M(n,e);var t=Y(n);function n(){var e;B(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).ref=a.a.createRef(),e.show=function(){e.ref.current.show()},e.hide=function(){e.ref.current.hide()},e.render=function(){return a.a.createElement("div",null,a.a.createElement("h3",null,a.a.createElement("span",{className:"tooltipped tooltipped-ne tooltipped-multiline","aria-label":Object(u.E)(e.props.helpKey)},a.a.createElement("span",{className:"fa fa-question-circle clickable"})),Object(u.E)(e.props.titleKey)),a.a.createElement(G,{chartId:e.props.chartId,getCategoryById:e.props.getCategoryById,operations:e.props.ops,ref:e.ref}))},e}return n}(a.a.Component),W=function(e){M(n,e);var t=Y(n);function n(){var e;B(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={displayRawIncomeHelp:!1,displayRawSpendingsHelp:!1,displayNetIncomeHelp:!1,displayNetSpendingsHelp:!1},e.refRawIncome=a.a.createRef(),e.refRawSpendings=a.a.createRef(),e.refNetIncome=a.a.createRef(),e.refNetSpendings=a.a.createRef(),e.show=function(){e.refRawIncome.current.show(),e.refRawSpendings.current.show(),e.refNetIncome.current.show(),e.refNetSpendings.current.show()},e.hide=function(){e.refRawIncome.current.hide(),e.refRawSpendings.current.hide(),e.refNetIncome.current.hide(),e.refNetSpendings.current.hide()},e.render=function(){return a.a.createElement("div",{className:"pie-charts"},a.a.createElement(J,{chartId:"rawIncomePie",helpKey:"client.charts.help_raw_income",titleKey:"client.charts.raw_income",getCategoryById:e.props.getCategoryById,ops:e.props.rawIncomeOps,ref:e.refRawIncome}),a.a.createElement(J,{chartId:"rawSpendingsPie",helpKey:"client.charts.help_raw_spendings",titleKey:"client.charts.raw_spendings",getCategoryById:e.props.getCategoryById,ops:e.props.rawSpendingOps,ref:e.refRawSpendings}),a.a.createElement(J,{chartId:"netIncomePie",helpKey:"client.charts.help_net_income",titleKey:"client.charts.net_income",getCategoryById:e.props.getCategoryById,ops:e.props.netIncomeOps,ref:e.refNetIncome}),a.a.createElement(J,{chartId:"netSpendingsPie",helpKey:"client.charts.help_net_spendings",titleKey:"client.charts.net_spendings",getCategoryById:e.props.getCategoryById,ops:e.props.netSpendingOps,ref:e.refNetSpendings}))},e}return n}(a.a.Component),X=function(e){M(n,e);var t=Y(n);function n(e){var r;return B(this,n),(r=t.call(this,e)).refBarchart=a.a.createRef(),r.refPiecharts=a.a.createRef(),r.handleChangePeriod=function(e){r.setState({period:e})},r.handleChangeAmountKind=function(e){r.setState({amountKind:e})},r.createPeriodFilter=function(e){var t,n=new Date,r=n.getFullYear(),a=n.getMonth();switch(e){case"all":return function(){return!0};case"current-month":return function(e){return e.getMonth()===a&&e.getFullYear()===r};case"last-month":return t=a>0?a-1:11,r=a>0?r:r-1,function(e){return e.getMonth()===t&&e.getFullYear()===r};case"3-months":return a>=3?(t=a-3,function(e){return e.getMonth()>=t&&e.getFullYear()===r}):(t=(a+9)%12,function(e){return e.getMonth()>=t&&e.getFullYear()===r-1||e.getMonth()<=a&&e.getFullYear()===r});case"6-months":return a>=6?(t=a-6,function(e){return e.getMonth()>=t&&e.getFullYear()===r}):(t=(a+6)%12,function(e){return e.getMonth()>=t&&e.getFullYear()===r-1||e.getMonth()<=a&&e.getFullYear()===r});default:Object(u.i)(!1,"unexpected option for date filter")}},r.handleShowAll=function(){r.refBarchart.current.show(),r.refPiecharts.current.show()},r.handleHideAll=function(){r.refBarchart.current.hide(),r.refPiecharts.current.hide()},r.state={amountKind:e.defaultAmountKind,period:e.defaultPeriod},r}return x(n,[{key:"render",value:function(){var e=this.createPeriodFilter(this.state.period),t=this.props.operations,n="positive"===this.state.amountKind,r="negative"===this.state.amountKind;r?t=t.filter((function(e){return e.amount<0})):n&&(t=t.filter((function(e){return e.amount>0})));var o=null,i=t.filter((function(t){return e(t.budgetDate)}));if(n||r)o=a.a.createElement(G,{chartId:"piechart",getCategoryById:this.props.getCategoryById,operations:i,ref:this.refPiecharts});else{var c,l=i.filter((function(e){return e.amount>0})),s=i.filter((function(e){return e.amount<0})),f=new Map,p=R(i);try{for(p.s();!(c=p.n()).done;){var d=c.value;f.has(d.categoryId)||f.set(d.categoryId,[]),f.get(d.categoryId).push(d)}}catch(e){p.e(e)}finally{p.f()}var y,m=[],b=[],g=R(f.values());try{for(g.s();!(y=g.n()).done;){var v=y.value;v.reduce((function(e,t){return e+t.amount}),0)>0?m=m.concat(v):b=b.concat(v)}}catch(e){g.e(e)}finally{g.f()}o=a.a.createElement(W,{getCategoryById:this.props.getCategoryById,rawIncomeOps:l,netIncomeOps:m,rawSpendingOps:s,netSpendingOps:b,ref:this.refPiecharts})}return a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{message:Object(u.E)("client.charts.by_category_desc")}),a.a.createElement("form",null,a.a.createElement("p",null,a.a.createElement("label",null,Object(u.E)("client.charts.amount_type")),a.a.createElement(z,{defaultValue:this.state.amountKind,onChange:this.handleChangeAmountKind})),a.a.createElement("p",null,a.a.createElement("label",{htmlFor:"period"},Object(u.E)("client.charts.period")),a.a.createElement(H,{defaultValue:this.props.defaultPeriod,onChange:this.handleChangePeriod,htmlId:"period"})),a.a.createElement("div",null,a.a.createElement("label",null,Object(u.E)("client.menu.categories")),a.a.createElement("p",{className:"buttons-group",role:"group","aria-label":"Show/Hide categories"},a.a.createElement("button",{type:"button",className:"btn",onClick:this.handleHideAll},Object(u.E)("client.general.unselect_all")),a.a.createElement("button",{type:"button",className:"btn",onClick:this.handleShowAll},Object(u.E)("client.general.select_all"))))),a.a.createElement($,{operations:t,getCategoryById:this.props.getCategoryById,invertSign:r,chartId:"barchart",ref:this.refBarchart,period:this.state.period}),o)}}]),n}(a.a.Component),Q=Object(o.b)((function(e){return{defaultAmountKind:l.b.setting(e,"default-chart-type"),defaultPeriod:l.b.setting(e,"default-chart-period"),getCategoryById:function(t){return l.b.categoryById(e,t)}}}))(X),Z=n(13),ee=n(14),te=n(47);function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue="charts-default-params",se=Object(o.b)((function(e){return{amountKind:l.b.setting(e,"default-chart-type"),displayType:l.b.setting(e,"default-chart-display-type"),period:l.b.setting(e,"default-chart-period")}}),(function(e){return{setAmountKind:function(t){l.a.setSetting(e,"default-chart-type",t)},setDisplayType:function(t){l.a.setSetting(e,"default-chart-display-type",t)},setPeriod:function(t){l.a.setSetting(e,"default-chart-period",t)},handleClose:function(){l.a.hideModal(e)}}}))(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(c,e);var t,n,r,o,i=(t=c,function(){var e,n=le(t);if(ce()){var r=le(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return ie(this,e)});function c(){var e;re(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={isSubmitDisabled:!0,amountKind:e.props.amountKind,displayType:e.props.displayType,period:e.props.period},e.handleSubmit=function(){e.state.amountKind!==e.props.amountKind&&e.props.setAmountKind(e.state.amountKind),e.state.displayType!==e.props.displayType&&e.props.setDisplayType(e.state.displayType),e.state.period!==e.props.period&&e.props.setPeriod(e.state.period),e.props.handleClose()},e.handleDisplayTypeChange=function(t){e.setState({displayType:t.target.value})},e.handlePeriodChange=function(t){e.setState({period:t})},e.handleChangeAmountKind=function(t){e.setState({amountKind:t})},e}return n=c,(r=[{key:"isSubmitDisabled",value:function(){return this.state.amountKind===this.props.amountKind&&this.state.displayType===this.props.displayType&&this.state.period===this.props.period}},{key:"render",value:function(){var e=a.a.createElement("form",{id:ue,onSubmit:this.handleSubmit},a.a.createElement("div",{className:"cols-with-label"},a.a.createElement("label",{htmlFor:"defaultDisplayType"},Object(u.E)("client.charts.default_display")),a.a.createElement("select",{className:"form-element-block",id:"defaultDisplayType",onChange:this.handleDisplayTypeChange,defaultValue:this.state.displayType},a.a.createElement("option",{value:"all"},Object(u.E)("client.charts.by_category")),a.a.createElement("option",{value:"balance"},Object(u.E)("client.charts.balance")),a.a.createElement("option",{value:"earnings"},Object(u.E)("client.charts.differences_all")))),a.a.createElement("h5",null,Object(u.E)("client.charts.category_chart")),a.a.createElement("div",{className:"cols-with-label",id:"default-params"},a.a.createElement("label",null,Object(u.E)("client.charts.default_amount_type")),a.a.createElement(z,{defaultValue:this.state.amountKind,onChange:this.handleChangeAmountKind})),a.a.createElement("div",{className:"cols-with-label"},a.a.createElement("label",{htmlFor:"defaultChartPeriod"},Object(u.E)("client.charts.default_period")),a.a.createElement(H,{defaultValue:this.state.period,onChange:this.handlePeriodChange,htmlId:"defaultChartPeriod"}))),t=a.a.createElement(te.a,{isSubmitDisabled:this.isSubmitDisabled(),formId:ue});return a.a.createElement(ee.a,{title:Object(u.E)("client.general.default_parameters"),body:e,footer:t})}}])&&ae(n.prototype,r),o&&ae(n,o),c}(a.a.Component));Object(Z.b)(ue,(function(){return a.a.createElement(se,null)}));var fe=n(15);function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||he(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ye=function(e){var t=Object(i.h)(),n=Object(i.g)();var r,o=[],c=[],l=[],u=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=he(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}(e.tabs);try{for(u.s();!(r=u.n()).done;){var s=pe(r.value,2),f=s[0],p=s[1];o.push(a.a.createElement(i.b,{key:f,path:f},p.component())),c.push(a.a.createElement("li",{key:f},a.a.createElement(fe.c,{activeClassName:"active",to:f},p.name))),l.push(a.a.createElement("option",{key:f,value:f},p.name))}}catch(e){u.e(e)}finally{u.f()}return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"tabs-container-selector"},a.a.createElement("ul",null,c),a.a.createElement("select",{className:"form-element-block",value:e.selectedTab,onChange:function(e){var r=e.target.value;t.pathname!==r&&n.push(r)}},l)),a.a.createElement("div",{className:"tab-content"},a.a.createElement(i.d,null,o,a.a.createElement(i.a,{to:e.defaultTab,push:!1}))))},me=n(57),be=Object(o.b)(null,(function(e){return{handleClick:function(){l.a.showModal(e,ue)}}}))((function(e){return a.a.createElement("button",{className:"btn",onClick:e.handleClick},a.a.createElement("span",null,Object(u.E)("client.general.default_parameters")))})),ge=Object(o.b)((function(e,t){var n=t.currentAccountId,r=l.b.accountById(e,n),a=l.b.operationsByAccountId(e,n);return{defaultDisplay:l.b.setting(e,"default-chart-display-type"),account:r,operations:a,theme:l.b.boolSetting(e,"dark-mode")?"dark":"light"}}))((function(e){var t=Object(i.h)(),n=e.account,r=e.theme,o=e.operations,l=e.defaultDisplay,f=n.id,p=new Map;return p.set(c.a.charts.url("all",f),{name:Object(u.E)("client.charts.by_category"),component:function(){return a.a.createElement(Q,{operations:o})}}),p.set(c.a.charts.url("balance",f),{name:Object(u.E)("client.charts.balance"),component:function(){return a.a.createElement(j,{operations:o,account:n,theme:r})}}),p.set(c.a.charts.url("earnings",f),{name:Object(u.E)("client.charts.differences_all"),component:function(){return a.a.createElement(s.a,{accessId:n.accessId,theme:r})}}),a.a.createElement("div",{className:"charts"},a.a.createElement("p",{className:"buttons-toolbar"},a.a.createElement(be,null)),a.a.createElement(ye,{tabs:p,defaultTab:c.a.charts.url(l,f),selectedTab:t.pathname}))}));t.default=Object(me.a)(ge)}}]);